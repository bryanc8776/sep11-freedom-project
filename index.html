<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <script src="https://q5js.org/q5.js"></script>

        <script src="https://p5play.org/v3/planck.min.js"></script>
        <script src="https://p5play.org/v3/p5play.js"></script>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="style.css" rel="stylesheet" type="text/css" />
        <style>
            /* CSS */

        </style>

        <title>Title</title>
    </head>
    <body>
        <!-- HTML -->


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <!-- <script src="script.js"></script> -->
        <script>
            // JS
            let border1, border2, border3, border4, field, ball, player1, player2, board;
            var score1 = 0
            var score2 = 0
            var t = 0
            var timerValue = 0
            var startButton
            function setup() {
                new Canvas(1200, 500);

                border1 = new Sprite(600, 490, 975, 6, 's');
                border2 = new Sprite(600, 10, 975, 6, 's');
                border3 = new Sprite(110, 250, 6, 480, 's');
                border4 = new Sprite(1090, 250, 6, 480, 's');
                border1.color = 'white'
                border2.color = 'white'
                border3.color = 'white'
                border4.color = 'white'


                //     field = new Sprite(600, 250, 5, 475, 'n');
                //   field.color = 'white'
                field = new Sprite(190, 250, 5, 200, 'n');
                field.color = 'white'
                field = new Sprite(150, 150, 75, 5, 'n');
                field.color = 'white'
                field = new Sprite(150, 350, 75, 5, 'n');
                field.color = 'white'
                field = new Sprite(1010, 250, 5, 200, 'n');
                field.color = 'white'
                field = new Sprite(1050, 150, 75, 5, 'n');
                field.color = 'white'
                field = new Sprite(1050, 350, 75, 5, 'n');
                field.color = 'white'

                field = new Sprite(35, 250, 5, 150, 'n');
                field.color = 'black'
                field = new Sprite(70, 175, 75, 5, 'n');
                field.color = 'black'
                field = new Sprite(70, 325, 75, 5, 'n');
                field.color = 'black'
                field = new Sprite(1165, 250, 5, 150, 'n');
                field.color = 'black'
                field = new Sprite(1130, 175, 75, 5, 'n');
                field.color = 'black'
                field = new Sprite(1130, 325, 75, 5, 'n');
                field.color = 'black'

                ball = new Sprite(200, 250);
                ball.d = 25;

                player1 = new Sprite(150, 250);
                player1.d = 35;

                player2 = new Sprite(1050, 250);
                player2.d = 35;

                board = new Sprite(500, 20, 350, 50)
                    board.textSize = 30;
                board.text = "Time: 0:00  Score: 0 - 0"

                textAlign(CENTER);
                setInterval(timeIt, 1000);
            }

            function draw(){
                clear();
                background(150)

                if (kb.pressing('a')) player1.vel.x = -2;
                else if (kb.pressing('d')) player1.vel.x = 2;
                else player1.vel.x = 0;

                if (kb.pressing('s'))player1.vel.y = 2;
                else if (kb.pressing('w')) player1.vel.y = -2;
                else player1.vel.y = 0;

                if (kb.pressing('arrowLeft')) player2.vel.x = -2;
                else if (kb.pressing('arrowRight')) player2.vel.x = 2;
                else player2.vel.x = 0;

                if (kb.pressing('arrowDown'))player2.vel.y = 2;
                else if (kb.pressing('arrowUp')) player2.vel.y = -2;
                else player2.vel.y = 0;

                if(ball.x < 90 && ball.x > 10 && ball.y >= 150 && ball.y <= 350)score1 += 1;
                else if(ball.x < 990 && ball.x > 910 && ball.y >= 150 && ball.y <= 350)score2 += 1;


                if(player1.colliding(ball) && kb.presses("x")){
                    if(kb.pressing('d')){
                    ball.applyForce(200)
                    } else if(kb.pressing('a')){
                    ball.applyForce(-200)
                    }
                }
                if(player2.colliding(ball) && kb.presses("l")){
                    if(kb.pressing('arrowRight')){
                    ball.applyForce(200)
                    } else if(kb.pressing('arrowLeft')){
                    ball.applyForce(-200)
                    }
                }

                if (timerValue < 10) {
                    text("0:0" + timerValue, width / 2, height / 2);
                }
                if (timerValue >= 10 && timerValue <60) {
                    text('0:' + timerValue, width / 2, height / 2);
                }
                if (timerValue % 60 == 0) {
                    t = timerValue
                    console.log(t)
                }
                if(timerValue >=60 && timerValue < 70){
                    text('1:0' + timerValue % 60, width / 2, height / 2);
                }
                if(timerValue >=70 && timerValue<120){
                    text('1:' + timerValue %60, width/2, height/2)
                }
                if(timerValue >=120 && timerValue < 130){
                    text('2:0' + timerValue % 60, width / 2, height / 2);
                }
                if(timerValue >=130 && timerValue<180){
                    text('2:' + timerValue %60, width/2, height/2)
                }
            }

            function timeIt() {
                if (timerValue >= 0) {
                    timerValue++;
                }
            }
            console.log(score1)
            console.log(score2)



        </script>
    </body>
</html>
